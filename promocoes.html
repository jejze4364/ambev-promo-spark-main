<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="Aproveite as melhores promoções de cerveja no Esportanos. Cupons, ofertas e descontos exclusivos." />
        <title>Promoções de Cerveja</title>
      
        <!-- Fonte Inter para modernização -->
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
      
        <!-- Estilos externos -->
        <link rel="stylesheet" href="promocoes.css" />
      
        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
      
      </head>      
<body>
    <div class="app-container">
        <!-- Header com navegação -->
        <header class="app-header">
            <div class="section-header">
                <h1>Promoções</h1>
                <div class="notification-icon">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" aria-label="3 notificações não lidas">3</span>
                </div>
            </div>
        </header>
            <!-- Seletor de Município -->
    <section class="location-selector">
        <div class="location-title">
          <i class="fas fa-map-marker-alt"></i> 
          Selecione seu município
        </div>
        <div class="location-dropdown">
          <select id="municipio-select">
            <option value="">-- Escolha seu município --</option>
            <option value="riojaneiro">Rio de Janeiro</option>
            <option value="saogoncalo">São Gonçalo</option>
            <option value="duquedecaxias">Duque de Caxias</option>
            <option value="novaiguacu">Nova Iguaçu</option>
            <option value="belfordroxo">Belford Roxo</option>
            <option value="niteroi">Niterói</option>
            <option value="camposgoytacazes">Campos dos Goytacazes</option>
            <option value="saojoaodemeriti">São João de Meriti</option>
            <option value="voltaredonda">Volta Redonda</option>
            <option value="petropolis">Petrópolis</option>
            <option value="outros">Outro(s)</option>
          </select>
        </div>
      </section>
        <!-- Banner principal rotativo -->
        <div class="promo-carousel-container">
            <div class="promo-carousel" id="banner-carousel">
                <div class="promo-slide active">
                    <div class="countdown-banner">
                        <div class="countdown-content">
                            <div class="countdown-text">
                                <h2>Promo Relâmpago!</h2>
                                <p>Brahma com 30% OFF no Mercado X</p>
                            </div>
                            <div class="countdown-timer">
                                <div class="time-block">
                                    <span id="hours">05</span>
                                    <span class="time-label">horas</span>
                                </div>
                                <div class="time-separator">:</div>
                                <div class="time-block">
                                    <span id="minutes">32</span>
                                    <span class="time-label">min</span>
                                </div>
                                <div class="time-separator">:</div>
                                <div class="time-block">
                                    <span id="seconds">18</span>
                                    <span class="time-label">seg</span>
                                </div>
                            </div>
                        </div>
                        <button class="promo-btn pulse-animation">APROVEITAR</button>
                    </div>
                </div>
                <div class="promo-slide">
                    <div class="partner-banner ze-delivery">
                        <div class="partner-content">
                            <img src="ze-delivery-logo.png" alt="Zé Delivery" class="partner-logo" width="120" height="60" data-original-src="ze-delivery-logo.png" onerror="this.onerror=null; this.classList.add('error'); this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'120\' height=\'60\'%3E%3Crect width=\'120\' height=\'60\' fill=\'%23f2f2f2\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' dominant-baseline=\'middle\' text-anchor=\'middle\' font-family=\'sans-serif\' font-size=\'12\' fill=\'%23888\'%3EZé Delivery%3C/text%3E%3C/svg%3E';">
                            <div class="partner-text">
                                <h3>Troque aqui, compre e receba pelo Zé!</h3>
                                <p>Ganhe R$15 OFF no primeiro pedido</p>
                            </div>
                        </div>
                        <button class="promo-btn" onclick="window.location.href='https://www.ze.delivery/conta/entrar'">CONECTAR</button>
                    </div>
                </div>
                <div class="promo-slide">
                    <div class="partner-banner bees">
                        <div class="partner-content">
                            <img src="bees-logo.png" alt="Bees" class="partner-logo" width="120" height="60" data-original-src="bees-logo.png" onerror="this.onerror=null; this.classList.add('error'); this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'120\' height=\'60\'%3E%3Crect width=\'120\' height=\'60\' fill=\'%23f2f2f2\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' dominant-baseline=\'middle\' text-anchor=\'middle\' font-family=\'sans-serif\' font-size=\'12\' fill=\'%23888\'%3EBees%3C/text%3E%3C/svg%3E';">
                            <div class="partner-text">
                                <h3>Tem CNPJ?</h3>
                                <p>Descontos exclusivos no app Bees!</p>
                            </div>
                        </div>
                        <button class="promo-btn" onclick="window.location.href='https://accounts-global1.bees.com/accounts-global1.bees.com/oauth2/v2.0/authorize?p=b2c_1a_signin_br&redirect_uri=https%3A%2F%2Fmybees.com.br%2Fapi%2Fauth%2Fverify&response_type=id_token&response_mode=form_post&client_id=d18a1185-c0ff-4e14-a7c2-ee227a48bbe1&ui_locales=pt-BR&ajs_aid=01d90e0a-435f-4584-a6e1-d308f58aab04&state=CUSTOMDy-MV-FcJaK4F779SlfXqkd3ExApum22%3Flanguage%3Dpt%26country%3DBR%26p%3DB2C_1A_SIGNIN_BR&nonce=H4Cp3J1Mw1r4wxAicY7V_-bnNVPDn-fA&scope=profile%20openid&x-client-SKU=passport-azure-ad&x-client-Ver=4.3.2'">ACESSAR</button>
                    </div>
                </div>
            </div>
            <div class="carousel-controls" role="tablist">
                <span class="carousel-dot active" data-index="0" role="tab" aria-selected="true" tabindex="0"></span>
                <span class="carousel-dot" data-index="1" role="tab" aria-selected="false" tabindex="-1"></span>
                <span class="carousel-dot" data-index="2" role="tab" aria-selected="false" tabindex="-1"></span>
            </div>
        </div>

        <!-- Abas de categorias -->
        <div class="promo-tabs" role="tablist">
            <button class="tab-btn active" data-category="all" role="tab" aria-selected="true">Todas</button>
            <button class="tab-btn" data-category="exclusive" role="tab" aria-selected="false">Exclusivas</button>
            <button class="tab-btn" data-category="cashback" role="tab" aria-selected="false">Cashback</button>
            <button class="tab-btn" data-category="missions" role="tab" aria-selected="false">Missões</button>
        </div>

        <!-- Barra de pesquisa e filtros -->
        <div class="search-container">
            <div class="search-bar">
                <i class="fas fa-search" aria-hidden="true"></i>
                <input type="text" placeholder="Buscar promoções..." aria-label="Buscar promoções">
            </div>
            <button class="filter-btn" aria-label="Filtrar promoções">
                <i class="fas fa-filter" aria-hidden="true"></i>
            </button>
        </div>

   <!-- Cupons e Missões - Primeira Quinzena (02/06 a 16/06) -->
<section class="promo-section" data-category="coupon">
  <div class="section-header">
    <h2>Cupons (02/06 a 16/06)</h2>
  </div>
  <div class="coupons-container">
    <div class="coupon">
      <div class="coupon-content">
        <div class="coupon-brand">
          <img src="CORONALN.JPG" alt="Corona Long Neck" width="60" height="60" />
        </div>
        <div class="coupon-details">
          <h3>De R$7,19 por R$6,49</h3>
          <p>Em Corona Long Neck</p>
          <span class="coupon-expiry">Válido até 16/06</span>
        </div>
      </div>
      <div class="coupon-action">
        <button class="use-coupon" onclick="alert('Cupom Corona aplicado!')">USAR</button>
      </div>
    </div>

    <div class="coupon">
      <div class="coupon-content">
        <div class="coupon-brand">
          <img src="STELLALN.jpg" alt="Stella Artois Long Neck" width="60" height="60" />
        </div>
        <div class="coupon-details">
          <h3>De R$5,79 por R$5,19</h3>
          <p>Em Stella Artois Long Neck</p>
          <span class="coupon-expiry">Válido até 16/06</span>
        </div>
      </div>
      <div class="coupon-action">
        <button class="use-coupon" onclick="alert('Cupom Stella aplicado!')">USAR</button>
      </div>
    </div>

    <div class="coupon">
      <div class="coupon-content">
        <div class="coupon-brand">
          <img src="BUD473.jpg" alt="Budweiser 473ml" width="60" height="60" />
        </div>
        <div class="coupon-details">
          <h3>De R$5,19 por R$4,99</h3>
          <p>Em Budweiser 473ml</p>
          <span class="coupon-expiry">Válido até 16/06</span>
        </div>
      </div>
      <div class="coupon-action">
        <button class="use-coupon" onclick="alert('Cupom Budweiser aplicado!')">USAR</button>
      </div>
    </div>

    <div class="coupon">
      <div class="coupon-content">
        <div class="coupon-brand">
          <img src="BC473.jpg" alt="Brahma 473ml" width="60" height="60" />
        </div>
        <div class="coupon-details">
          <h3>De R$4,69 por R$4,49</h3>
          <p>Em Brahma 473ml</p>
          <span class="coupon-expiry">Válido até 16/06</span>
        </div>
      </div>
      <div class="coupon-action">
        <button class="use-coupon" onclick="alert('Cupom Brahma aplicado!')">USAR</button>
      </div>
    </div>
  </div>
</section>

<section class="promo-section missions-section" data-category="missions">
  <div class="section-header">
    <h2>Missões (02/06 a 16/06)</h2>
  </div>
  <div class="missions-container">
    <div class="mission-card">
      <div class="mission-header">
        <img src="AO473.jpg" alt="Antarctica Original 473ml" class="mission-brand" width="80" height="40" />
        <div class="mission-reward">
          <i class="fas fa-percent" aria-hidden="true"></i>
          <span>Leve 12 Pague 10</span>
        </div>
      </div>
      <div class="mission-body">
        <h3>Missão Antarctica Original</h3>
        <p>Apresente 12 Antarctica Original no estabelecimento para ganhar a promoção</p>
        <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="10">
          <div class="progress-fill" style="width: 0%"></div>
        </div>
        <div class="mission-progress">
          <span>0/12</span>
          <span>0% completo</span>
        </div>
      </div>
      <button class="mission-btn" onclick="alert('Missão Antarctica iniciada!')">INICIAR</button>
    </div>

    <div class="mission-card">
      <div class="mission-header">
        <img src="BUDLN.jpg" alt="Budweiser Long Neck" class="mission-brand" width="80" height="40" />
        <div class="mission-reward">
          <i class="fas fa-percent" aria-hidden="true"></i>
          <span>Leve 6 Pague 5</span>
        </div>
      </div>
      <div class="mission-body">
        <h3>Missão Budweiser Long Neck</h3>
        <p>Apresente 12 Budweiser Long Neck no estabelecimento para ganhar a promoção</p>
        <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="10">
          <div class="progress-fill" style="width: 0%"></div>
        </div>
        <div class="mission-progress">
          <span>0/12</span>
          <span>0% completo</span>
        </div>
      </div>
      <button class="mission-btn" onclick="alert('Missão Budweiser iniciada!')">INICIAR</button>
    </div>
  </div>
</section>
        <!-- Integração com Zé Delivery -->
        <section class="promo-section delivery-integration" data-category="integration">
            <div class="integration-card ze-delivery-section">
                <div class="integration-content">
                    <img src="ze-delivery-wide.jpg" alt="Zé Delivery" class="integration-logo" width="120" height="60" data-original-src="ze-delivery-wide.png" onerror="this.onerror=null; this.classList.add('error'); this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'120\' height=\'60\'%3E%3Crect width=\'120\' height=\'60\' fill=\'%23f2f2f2\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' dominant-baseline=\'middle\' text-anchor=\'middle\' font-family=\'sans-serif\' font-size=\'12\' fill=\'%23888\'%3EZé Delivery%3C/text%3E</svg%3E';">
                    <div class="integration-info">
                        <h3>Receba em casa com<br>Zé Delivery</h3>
                        <p>Aplique automaticamente os<br>mesmos descontos do app</p>
                    </div>
                </div>
                <button id="connect-ze" class="connect-btn">
                    CONECTAR <i class="fas fa-link" aria-hidden="true"></i>
                </button>
            </div>
        </section>
        
        <!-- Integração com Bees -->
        <section class="promo-section delivery-integration" data-category="integration">
            <div class="integration-card bees-section">
                <div class="integration-badge">EXCLUSIVO CNPJ</div>
                <div class="integration-content">
                    <img src="bees-wide.png" alt="Bees" class="integration-logo" width="120" height="60" data-original-src="bees-wide.png" onerror="this.onerror=null; this.classList.add('error'); this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'120\' height=\'60\'%3E%3Crect width=\'120\' height=\'60\' fill=\'%23f2f2f2\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' dominant-baseline=\'middle\' text-anchor=\'middle\' font-family=\'sans-serif\' font-size=\'12\' fill=\'%23888\'%3EBees%3C/text%3E%3C/svg%3E';">
                    <div class="integration-info">
                        <h3>Compre no atacado<br>com Bees</h3>
                        <p>Preços especiais para<br>seu estabelecimento</p>
                    </div>
                </div>
                <button id="connect-bees" class="connect-btn">
                    CONECTAR <i class="fas fa-link" aria-hidden="true"></i>
                </button>
            </div>
        </section>

        <!-- Espaço para footer fixo -->
        <div class="footer-spacer" style="height: 80px;"></div>

        <!-- Rodapé -->
        <footer class="app-footer">
            <a href="index.html" class="footer-link">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="escolha_cerveja.html" class="footer-link">
                <i class="fas fa-beer"></i>
                <span>Cervejas</span>
            </a>
            <a href="promocoes.html" class="footer-link active">
                <i class="fas fa-percent"></i>
                <span>Promoções</span>
            </a>
        </footer>
    </div>

    <!-- Script com tratamento de erros -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            try {
                initCarousel();
                initCountdown();
                initTabs();
                initIntegrationButtons();
            } catch (error) {
                console.error('Erro na inicialização:', error);
                recoverEssentialFunctions();
            }
        });
        document.getElementById('municipio-select').addEventListener('change', function() {
            const municipio = this.value;
            if (municipio) {
                window.location.href = `promo${municipio}.html`;
            }
            });
        function initCarousel() {
            const carousel = document.getElementById('banner-carousel');
            const slides = carousel.querySelectorAll('.promo-slide');
            const dots = document.querySelectorAll('.carousel-dot');
            let currentSlide = 0;
            let interval;

            function changeSlide(index) {
                if (index >= slides.length) index = 0;
                if (index < 0) index = slides.length - 1;

                slides.forEach(slide => slide.classList.remove('active'));
                dots.forEach(dot => {
                    dot.classList.remove('active');
                    dot.setAttribute('aria-selected', 'false');
                    dot.tabIndex = -1;
                });

                slides[index].classList.add('active');
                dots[index].classList.add('active');
                dots[index].setAttribute('aria-selected', 'true');
                dots[index].tabIndex = 0;

                currentSlide = index;
            }

            function startAutoSlide() {
                interval = setInterval(() => {
                    changeSlide(currentSlide + 1);
                }, 5000);
            }

            // Adiciona interação com touch para dispositivos móveis
            let touchStartX = 0;
            let touchEndX = 0;

            carousel.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            }, false);

            carousel.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            }, false);

            function handleSwipe() {
                const minSwipeDistance = 50;
                if (touchEndX < touchStartX - minSwipeDistance) {
                    // Swipe para esquerda
                    clearInterval(interval);
                    changeSlide(currentSlide + 1);
                    startAutoSlide();
                } else if (touchEndX > touchStartX + minSwipeDistance) {
                    // Swipe para direita
                    clearInterval(interval);
                    changeSlide(currentSlide - 1);
                    startAutoSlide();
                }
            }

            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    clearInterval(interval);
                    changeSlide(index);
                    startAutoSlide();
                });

                dot.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        clearInterval(interval);
                        changeSlide(index);
                        startAutoSlide();
                    }
                });
            });

            startAutoSlide();
        }

        function initCountdown() {
            const hoursEl = document.getElementById('hours');
            const minutesEl = document.getElementById('minutes');
            const secondsEl = document.getElementById('seconds');

            if (!hoursEl || !minutesEl || !secondsEl) return;

            let hours = parseInt(hoursEl.textContent);
            let minutes = parseInt(minutesEl.textContent);
            let seconds = parseInt(secondsEl.textContent);

            if (isNaN(hours) || isNaN(minutes) || isNaN(seconds)) {
                hours = 5;
                minutes = 30;
                seconds = 0;
                hoursEl.textContent = '05';
                minutesEl.textContent = '30';
                secondsEl.textContent = '00';
            }

            function updateCountdown() {
                seconds--;
                if (seconds < 0) {
                    seconds = 59;
                    minutes--;
                    if (minutes < 0) {
                        minutes = 59;
                        hours--;
                        if (hours < 0) {
                            clearInterval(countdownInterval);
                            // Atualiza visual quando o tempo acaba
                            document.querySelector('.countdown-banner').classList.add('expired');
                            document.querySelector('.countdown-banner .promo-btn').textContent = 'EXPIRADO';
                            document.querySelector('.countdown-banner .promo-btn').classList.remove('pulse-animation');
                            document.querySelector('.countdown-banner .promo-btn').disabled = true;
                            return;
                        }
                    }
                }

                hoursEl.textContent = hours.toString().padStart(2, '0');
                minutesEl.textContent = minutes.toString().padStart(2, '0');
                secondsEl.textContent = seconds.toString().padStart(2, '0');
            }

            const countdownInterval = setInterval(updateCountdown, 1000);
        }

        function filterContent(category) {
            const allSections = document.querySelectorAll('.promo-section');

            if (category === 'all') {
                allSections.forEach(section => section.style.display = 'block');
                return;
            }

            allSections.forEach(section => {
                const sectionCategory = section.getAttribute('data-category') || '';
                
                if (category === 'cashback' && (sectionCategory === 'cashback' || section.innerText.toLowerCase().includes('cashback'))) {
                    section.style.display = 'block';
                } else if (category === 'missions' && (sectionCategory === 'missions' || section.classList.contains('missions-section'))) {
                    section.style.display = 'block';
                } else if (category === 'exclusive' && (sectionCategory === 'exclusive' || section.innerText.toLowerCase().includes('exclusiv'))) {
                    section.style.display = 'block';
                } else {
                    section.style.display = 'none';
                }
            });
        }

        function initTabs() {
            const tabBtns = document.querySelectorAll('.tab-btn');

            tabBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    tabBtns.forEach(b => {
                        b.classList.remove('active');
                        b.setAttribute('aria-selected', 'false');
                    });

                    btn.classList.add('active');
                    btn.setAttribute('aria-selected', 'true');

                    const category = btn.getAttribute('data-category');
                    console.log(`Filtrar por: ${category}`);
                    filterContent(category);
                });
            });
        }

        function initIntegrationButtons() {
        document.getElementById('connect-ze')?.addEventListener('click', function () {
         window.location.href = "https://www.ze.delivery/conta/entrar";
         });

            document.getElementById('connect-bees')?.addEventListener('click', function () {
            window.location.href = "https://accounts-global1.bees.com/accounts-global1.bees.com/oauth2/v2.0/authorize?p=b2c_1a_signin_br&redirect_uri=https%3A%2F%2Fmybees.com.br%2Fapi%2Fauth%2Fverify&response_type=id_token&response_mode=form_post&client_id=d18a1185-c0ff-4e14-a7c2-ee227a48bbe1&ui_locales=pt-BR&ajs_aid=01d90e0a-435f-4584-a6e1-d308f58aab04&state=CUSTOMDy-MV-FcJaK4F779SlfXqkd3ExApum22%3Flanguage%3Dpt%26country%3DBR%26p%3DB2C_1A_SIGNIN_BR&nonce=H4Cp3J1Mw1r4wxAicY7V_-bnNVPDn-fA&scope=profile%20openid&x-client-SKU=passport-azure-ad&x-client-Ver=4.3.2";
         });
        }


        function recoverEssentialFunctions() {
            document.querySelectorAll('.use-coupon').forEach(btn => {
                btn.addEventListener('click', () => alert('Cupom aplicado com sucesso!'));
            });

            document.querySelectorAll('.mission-btn').forEach(btn => {
                btn.addEventListener('click', () => alert('Missão em andamento!'));
            });

            document.querySelectorAll('.add-to-cart').forEach(btn => {
                btn.addEventListener('click', () => alert('Produto adicionado ao carrinho!'));
            });
        }

        window.addEventListener('error', function (e) {
            if (e.target.tagName === 'IMG') {
                console.warn('Erro ao carregar imagem:', e.target.src);
                // Salva URL original para possível recuperação quando voltar online
                if (!e.target.getAttribute('data-original-src')) {
                    e.target.setAttribute('data-original-src', e.target.src);
                }
            }
        }, true);

        window.addEventListener('online', function () {
            document.querySelectorAll('img.error').forEach(img => {
                const originalSrc = img.getAttribute('data-original-src');
                if (originalSrc) {
                    img.src = originalSrc;
                    img.classList.remove('error');
                }
            });
        });

        function checkMobileLayout() {
            const isMobile = window.innerWidth < 768;
            document.querySelectorAll('.promo-section').forEach(section => {
                section.classList.toggle('mobile-view', isMobile);
            });
        }

        // Adicionar funcionalidade à barra de pesquisa
        document.querySelector('.search-bar input')?.addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const allItems = document.querySelectorAll('.coupon, .promo-item, .mission-card, .market-card');
            
            if (searchTerm.length > 2) {
                allItems.forEach(item => {
                    const itemText = item.innerText.toLowerCase();
                    if (itemText.includes(searchTerm)) {
                        item.style.display = 'flex';
                    } else {
                        item.style.display = 'none';
                    }
                });
            } else {
                allItems.forEach(item => {
                    item.style.display = 'flex';
                });
            }
        });

        // Adicionar funcionalidade ao botão de filtro
        document.querySelector('.filter-btn')?.addEventListener('click', function() {
            alert('Filtros avançados serão implementados em breve!');
        });

        window.addEventListener('load', checkMobileLayout);
        window.addEventListener('resize', checkMobileLayout);
    </script>      
</body>
</html>